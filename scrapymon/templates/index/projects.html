{% extends "index/_base.html" %}

{% block content %}

    {{ super() }}

    <div class="panel-group" id="projects">

        {% for project, attrs in projects.items() %}

            <div class="panel panel-default">

                <div class="panel-heading" data-toggle="collapse" data-parent="#projects" href="#{{ project }}">

                    <a class="panel-title collapsed">{{ project }}
                        <span class="badge" title="{{ attrs['spiders']|length }} spiders" , data-toggle="tooltip">{{ attrs['spiders']|length }}</span>

                        {% for version in attrs['versions'] %}
                            <span class="label label-primary" title="version {{ version }}" , data-toggle="tooltip">{{ version }}</span>
                        {% endfor %}
                    </a>
                </div>

                <div id="{{ project }}" class="panel-collapse collapse in">

                    <div class="list-group">

                        {% for spider in attrs['spiders'] %}
                            <div class="list-group-item">{{ spider }}</div>
                        {% endfor %}
                    </div>

                    <div class="panel-footer clearfix">

                        <div class="btn-group pull-right">
                            <button class="btn btn-danger btn-xs" type="button">Delete Project</button>
                            <button data-toggle="dropdown" class="btn btn-danger btn-xs dropdown-toggle" type="button"><span class="caret"></span></button>
                            <ul role="menu" class="dropdown-menu">
                                <li>
                                    <a href="#">Delete version</a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        {% endfor %}
    </div>
{% endblock %}
